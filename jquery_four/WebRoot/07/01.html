<!DOCTYPE html>
<html>
  <head>
    <title>01.html</title>
	<!-- 
		ajaxComplete(callback)	返回值:jQuery
		
		AJAX 请求完成时执行函数。Ajax 事件。
		XMLHttpRequest 对象和设置作为参数传递给回调函数。
	 -->
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
	<script type="text/javascript" src="../resource/jquery-3.2.1.js"></script>
  </head>
  
  <body>
  	<div id="wait">wait</div>
  	<script type="text/javascript">
	  	$(function (){
	  	
	  		$(document).ajaxStart(function(event,request, settings){
	  			$('#wait').css({'background':'red'});
			});
			
	  		$.ajax({
  				type:"GET",
  				url:"test.js",
  				dataType:"script"
  			});
  			
			$(document).ajaxComplete(function(event,request, settings){
				$('#wait').css({'background':'green'});
			});
			
			$(document).ajaxError(function (event, XMLHttpRequest, ajaxOptions, thrownError){
				 // thrownError 只有当异常发生时才会被传递
    	 		this; // 监听的 dom 元素
			});
		});
  	</script>
  </body>
</html>
